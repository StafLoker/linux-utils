#!/bin/bash
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
RED='\033[0;31m'
NC='\033[0m'

# CPU Load
LOAD=$(awk '{print $1*100}' /proc/loadavg | cut -d. -f1)
CPU_CORES=$(nproc)
CPU_PERCENT=$((LOAD / CPU_CORES))

# CPU Temperature
if [ -f /sys/class/thermal/thermal_zone0/temp ]; then
    TEMP=$(($(cat /sys/class/thermal/thermal_zone0/temp) / 1000))Â°C
else
    TEMP="N/A"
fi

# Memory
MEM_TOTAL=$(free -m | awk 'NR==2{print $2}')
MEM_USED=$(free -m | awk 'NR==2{print $3}')
MEM_PERCENT=$((MEM_USED * 100 / MEM_TOTAL))
MEM_TOTAL_GB=$(awk "BEGIN {printf \"%.2f\", $MEM_TOTAL/1024}")

if [ $CPU_PERCENT -lt 50 ]; then CPU_COLOR=$GREEN
elif [ $CPU_PERCENT -lt 80 ]; then CPU_COLOR=$YELLOW
else CPU_COLOR=$RED; fi

if [ $MEM_PERCENT -lt 50 ]; then MEM_COLOR=$GREEN
elif [ $MEM_PERCENT -lt 80 ]; then MEM_COLOR=$YELLOW
else MEM_COLOR=$RED; fi

echo -e "${GREEN}Resources${NC}"
echo -e "  CPU Load:     ${CPU_COLOR}${CPU_PERCENT}%${NC} (${CPU_CORES} cores)"
echo -e "  CPU Temp:     ${TEMP}"
echo -e "  Memory:       ${MEM_COLOR}${MEM_PERCENT}%${NC} (${MEM_USED}M / ${MEM_TOTAL_GB}G)"
echo ""